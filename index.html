<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8" />
<title>Minha IA</title>
<style>
body {
  background: #111;
  color: #fff;
  font-family: Arial;
  padding: 20px;
}
input, textarea, button {
  width: 100%;
  margin-top: 10px;
  padding: 10px;
  background: #222;
  color: #fff;
  border: none;
  border-radius: 6px;
}
button {
  background: #4a8bff;
  cursor: pointer;
}
</style>
</head>
<body>
<h2>Minha IA</h2>

<label>Sua API Key (fica s√≥ no navegador):</label>
<input type="password" id="key" placeholder="sk-..." />

<label>Pergunta:</label>
<textarea id="msg" rows="3"></textarea>

<button onclick="enviar()">Enviar</button>

<h3>Resposta:</h3>
<div id="resp"></div>

<script>
async function enviar() {
  const key = document.getElementById("key").value;
  const msg = document.getElementById("msg").value;
  const respDiv = document.getElementById("resp");

  if (!key) return alert("Coloque sua API KEY!");
  if (!msg) return alert("Digite uma pergunta!");

  respDiv.innerHTML = "Carregando...";

  try {
    const resposta = await fetch("https://api.openai.com/v1/chat/completions", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        "Authorization": "Bearer " + key
      },
      body: JSON.stringify({
        model: "gpt-4o-mini",
        messages: [
          { role: "user", content: msg }
        ]
      })
    });

    const data = await resposta.json();

    if (data.error) {
      respDiv.innerHTML = "Erro: " + data.error.message;
      return;
    }

    respDiv.innerHTML = data.choices[0].message.content;

  } catch (e) {
    respDiv.innerHTML = "Erro ao conectar.";
  }
}
</script>

</body>
</html>
